1.创建基础表 来自 es.hotsearch_words
CREATE TABLE APPSTORE_BASE_HOTSEARCH(
HOTWORD VARCHAR NOT NULL,
RANKING INTEGER,
COUNTRY VARCHAR NOT NULL,
DEVICE VARCHAR NOT NULL,
RESULTCOUNT INTEGER,
UPDATETIME VARCHAR NOT NULL,
DAY VARCHAR,
CONSTRAINT pk PRIMARY KEY (HOTWORD, COUNTRY, DEVICE, UPDATETIME)) SALT_BUCKETS = 20;
-----------------------------------
2.
CREATE TABLE APPSTORE_HOTSEARCH_AGRR(
UPDATETIME VARCHAR,
COUNTRY VARCHAR NOT NULL,
DEVICE VARCHAR NOT NULL,
HOTWORDS VARCHAR ARRAY NOT NULL,
DAY VARCHAR,
CONSTRAINT pk PRIMARY KEY (COUNTRY, DEVICE, HOTWORDS)) SALT_BUCKETS = 20;

================================================================

3.创建结果表 来自 APPSTORE_BASE_HOTSEARCH
CREATE TABLE APPSTORE_STATISTIC_HOTSEARCH(
HOTWORD VARCHAR NOT NULL,
RANKING INTEGER,
COUNTRY VARCHAR NOT NULL,
DEVICE VARCHAR NOT NULL,
STARTTIME VARCHAR NOT NULL,
ENDTIME VARCHAR,
DURATION INTEGER,
DAY VARCHAR NOT NULL,
CONSTRAINT pk PRIMARY KEY (HOTWORD, COUNTRY, DEVICE, STARTTIME, DAY)) SALT_BUCKETS = 20;

================================================================

4.创建当前Top10搜索app表 来自 es.hotsearch_top100  rowkey中appid改为ranking
CREATE TABLE APPSTORE_CURRENT_TOP10_APP_RESULTS(
HOTWORD VARCHAR NOT NULL,
RANKING INTEGER NOT NULL,
GENRENAMES VARCHAR,
APPNAME VARCHAR,
APPID VARCHAR,
COUNTRY VARCHAR NOT NULL,
DEVICE VARCHAR NOT NULL,
APPIMG VARCHAR,
COMPANYNAME VARCHAR,
UPDATETIME VARCHAR,
CONSTRAINT pk PRIMARY KEY (HOTWORD, RANKING, COUNTRY, DEVICE)) SALT_BUCKETS = 20;

================================================================

5.创建联想词表 来自  es.hotsearch_related  &  AppStore_Base_HotSearch   rowkey中的relatedword改为ranking
CREATE TABLE APPSTORE_CURRENT_TOP10_RELATED_HOTSEARCH(
RELATEDWORD VARCHAR,
HOTWORD VARCHAR NOT NULL,
RANKING INTEGER NOT NULL,
COUNTRY VARCHAR NOT NULL,
DEVICE VARCHAR NOT NULL,
UPDATETIME VARCHAR,
SEARCHINDEX INTEGER,
HOTWORD_RESULTCOUNT INTEGER,
CONSTRAINT pk PRIMARY KEY (HOTWORD, RANKING, COUNTRY, DEVICE)) SALT_BUCKETS = 20;

================================================================

6.app排行表 来自  es.rank_top100  &  es.app_detail   删除当天数据，然后导入新数据
CREATE TABLE APPSTORE_APP_TOP100(
APPID VARCHAR,
APPNAME VARCHAR,
APPIMG VARCHAR,
RANKING INTEGER NOT NULL,
COUNTRY VARCHAR NOT NULL,
DEVICE VARCHAR NOT NULL,
LISTCATEGORY VARCHAR NOT NULL,
APPCATEGORY VARCHAR NOT NULL,
COMPANYNAME VARCHAR,
DAY VARCHAR NOT NULL,
UPDATETIME VARCHAR,
CONSTRAINT pk PRIMARY KEY (RANKING, COUNTRY, DEVICE, LISTCATEGORY, APPCATEGORY, DAY)) SALT_BUCKETS = 20;

================================================================

7.搜索指数表 (15个字段)    删除所有数据，然后导入新数据
CREATE TABLE APPSTORE_CURRENT_SEARCHINDEX(
HOTWORD VARCHAR,
HOTWORD_RANKING INTEGER NOT NULL,
COUNTRY VARCHAR NOT NULL,
DEVICE VARCHAR NOT NULL,
APPID VARCHAR,
GENRENAMES VARCHAR,
SEARCHINDEX INTEGER,
HOTWORD_RESULTCOUNT INTEGER,
RELATEDWORDS VARCHAR ARRAY,
APP_RANKING INTEGER NOT NULL,
APPNAME VARCHAR,
APPIMG VARCHAR,
COMPANYNAME VARCHAR,
APPRANKINGCATEGORY VARCHAR ARRAY,
UPDATETIME VARCHAR,
CONSTRAINT pk PRIMARY KEY (HOTWORD_RANKING, COUNTRY, DEVICE, APP_RANKING)) SALT_BUCKETS = 20;
